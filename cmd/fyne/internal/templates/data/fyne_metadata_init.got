package main

import (
	"fyne.io/fyne/v2"
	"fyne.io/fyne/v2/app"
)

func init() {
	app.SetMetadata(fyne.AppMetadata{
		ID: "{{.AppID}}",
		Name: "{{.Name}}",
		Version: "{{.AppVersion}}",
		Build: {{.AppBuild}},
		Icon: {{.ResGoString}},
		Release: {{.Release}},
	})

	customMetadata := map[string]string{
		{{range $key, $value := .CustomMetadata}}
		"{{$key}}": "{{$value}}",
		{{end}}
	}
	if !app.SetCustomMetadata(customMetadata) {
		fyne.LogError("Unable to set custom metadata.", nil)
	}
}

